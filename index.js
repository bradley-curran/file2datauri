#!/usr/bin/env node
"use strict";var i=require("./node_modules/file-type/index.js"),c=require("fs"),f=require("./node_modules/minimist/index.js"),a=f(process.argv.slice(2)),m=r=>new Promise((e,s)=>{let o=[];r.on("data",t=>o.push(t)),r.on("end",()=>e(Buffer.concat(o))),r.on("error",t=>s(t))}),u=async r=>{let e=await(0,i.fromBuffer)(r);return e&&e.mime},d=async(r,e)=>{let s=r?(0,c.createReadStream)(r):process.stdin,o=await m(s),t=e||await u(o),n=o.toString("base64");return t?`data:${t};base64,${n}`:`data:;base64,${n}`};d(a.f,a.m).then(r=>console.log(r)).catch(r=>{console.error(r),process.exit(1)});
//# sourceMappingURL=index.js.map
